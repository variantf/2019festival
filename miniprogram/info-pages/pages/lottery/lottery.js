"use strict";
var app = getApp();
Page({
    data: {
        btnStyle: 'btn-bg-blue',
        logo: '',
        link: ''
    },
    hasJump: false,
    onLoad: function (options) {
        console.log("options", options);
        this.setData({
            logo: decodeURIComponent(options.logo),
            link: decodeURIComponent(options.link)
        });
    },
    onShow: function () {
        app.sound("lottery");
        if (this.hasJump) {
            wx.redirectTo({
                url: "/pages/index/index"
            });
        }
    },
    toLottery: function () {
        this.hasJump = true;
        if (this.data.link.substr(0, 11) === "miniprogram") {
            var link = this.data.link.substr(14);
            var spliter = link.indexOf('/');
            var appId = link.substr(0, spliter);
            var path = link.substr(spliter + 1);
            console.log("link: ", link, appId, path);
            wx.navigateToMiniProgram({
                appId: appId,
                path: path
            });
        }
        else {
            wx.redirectTo({
                url: "../webview/webview?url=" + encodeURIComponent(this.data.link)
            });
        }
    },
    btnToRed: function () {
        this.setData({
            btnStyle: 'btn-bg-red'
        });
    },
    btnToBlue: function () {
        this.setData({
            btnStyle: 'btn-bg-blue'
        });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG90dGVyeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxvdHRlcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUVBLElBQUksR0FBRyxHQUFHLE1BQU0sRUFBYyxDQUFDO0FBQy9CLElBQUksQ0FBQztJQUNILElBQUksRUFBRTtRQUNKLFFBQVEsRUFBRSxhQUFhO1FBQ3ZCLElBQUksRUFBRSxFQUFFO1FBQ1IsSUFBSSxFQUFFLEVBQUU7S0FDVDtJQUNELE9BQU8sRUFBRSxLQUFLO0lBQ2QsTUFBTSxZQUFDLE9BQVk7UUFDakIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNYLElBQUksRUFBRSxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQ3RDLElBQUksRUFBRSxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1NBQ3ZDLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFDRCxNQUFNO1FBQ0osR0FBRyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQTtRQUNwQixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDaEIsRUFBRSxDQUFDLFVBQVUsQ0FBQztnQkFDWixHQUFHLEVBQUUsb0JBQW9CO2FBQzFCLENBQUMsQ0FBQTtTQUNIO0lBQ0gsQ0FBQztJQUNELFNBQVM7UUFDUCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssYUFBYSxFQUFFO1lBQ2xELElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN2QyxJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2xDLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ3RDLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ3RDLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDekMsRUFBRSxDQUFDLHFCQUFxQixDQUFDO2dCQUN2QixLQUFLLE9BQUE7Z0JBQ0wsSUFBSSxNQUFBO2FBQ0wsQ0FBQyxDQUFBO1NBQ0g7YUFBTTtZQUNMLEVBQUUsQ0FBQyxVQUFVLENBQUM7Z0JBQ1osR0FBRyxFQUFFLDRCQUEwQixrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRzthQUNwRSxDQUFDLENBQUE7U0FDSDtJQUNILENBQUM7SUFDRCxRQUFRO1FBQ04sSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNYLFFBQVEsRUFBRSxZQUFZO1NBQ3ZCLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFDRCxTQUFTO1FBQ1AsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNYLFFBQVEsRUFBRSxhQUFhO1NBQ3hCLENBQUMsQ0FBQTtJQUNKLENBQUM7Q0FDRixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbmRleC50c1xuLy8g6I635Y+W5bqU55So5a6e5L6LXG52YXIgYXBwID0gZ2V0QXBwPElBcHBPcHRpb24+KCk7XG5QYWdlKHtcbiAgZGF0YToge1xuICAgIGJ0blN0eWxlOiAnYnRuLWJnLWJsdWUnLFxuICAgIGxvZ286ICcnLFxuICAgIGxpbms6ICcnXG4gIH0sXG4gIGhhc0p1bXA6IGZhbHNlLFxuICBvbkxvYWQob3B0aW9uczogYW55KSB7XG4gICAgY29uc29sZS5sb2coXCJvcHRpb25zXCIsIG9wdGlvbnMpO1xuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBsb2dvOiBkZWNvZGVVUklDb21wb25lbnQob3B0aW9ucy5sb2dvKSxcbiAgICAgIGxpbms6IGRlY29kZVVSSUNvbXBvbmVudChvcHRpb25zLmxpbmspXG4gICAgfSlcbiAgfSxcbiAgb25TaG93KCkge1xuICAgIGFwcC5zb3VuZChcImxvdHRlcnlcIilcbiAgICBpZiAodGhpcy5oYXNKdW1wKSB7XG4gICAgICB3eC5yZWRpcmVjdFRvKHtcbiAgICAgICAgdXJsOiBcIi9wYWdlcy9pbmRleC9pbmRleFwiXG4gICAgICB9KVxuICAgIH1cbiAgfSxcbiAgdG9Mb3R0ZXJ5KCkge1xuICAgIHRoaXMuaGFzSnVtcCA9IHRydWU7XG4gICAgaWYgKHRoaXMuZGF0YS5saW5rLnN1YnN0cigwLCAxMSkgPT09IFwibWluaXByb2dyYW1cIikge1xuICAgICAgY29uc3QgbGluayA9IHRoaXMuZGF0YS5saW5rLnN1YnN0cigxNCk7XG4gICAgICBjb25zdCBzcGxpdGVyID0gbGluay5pbmRleE9mKCcvJyk7XG4gICAgICBjb25zdCBhcHBJZCA9IGxpbmsuc3Vic3RyKDAsIHNwbGl0ZXIpO1xuICAgICAgY29uc3QgcGF0aCA9IGxpbmsuc3Vic3RyKHNwbGl0ZXIgKyAxKTtcbiAgICAgIGNvbnNvbGUubG9nKFwibGluazogXCIsIGxpbmssIGFwcElkLCBwYXRoKTtcbiAgICAgIHd4Lm5hdmlnYXRlVG9NaW5pUHJvZ3JhbSh7XG4gICAgICAgIGFwcElkLFxuICAgICAgICBwYXRoXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB3eC5yZWRpcmVjdFRvKHtcbiAgICAgICAgdXJsOiBgLi4vd2Vidmlldy93ZWJ2aWV3P3VybD0ke2VuY29kZVVSSUNvbXBvbmVudCh0aGlzLmRhdGEubGluayl9YFxuICAgICAgfSlcbiAgICB9XG4gIH0sXG4gIGJ0blRvUmVkKCkge1xuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBidG5TdHlsZTogJ2J0bi1iZy1yZWQnXG4gICAgfSlcbiAgfSxcbiAgYnRuVG9CbHVlKCkge1xuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBidG5TdHlsZTogJ2J0bi1iZy1ibHVlJ1xuICAgIH0pXG4gIH1cbn0pXG4iXX0=