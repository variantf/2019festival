"use strict";
App({
    API_ENDPOINT: 'https://endpoint.2019festival.variantf.zgcszkw.com/api',
    STATIC_URL: 'https://endpoint.2019festival.variantf.zgcszkw.com/static/',
    globalData: {
        token: ''
    },
    onLaunch: function () {
        this.bgmInnerAudioContext = wx.createInnerAudioContext();
        this.bgmInnerAudioContext.src = this.STATIC_URL + 'bgm.mp3';
        this.bgmInnerAudioContext.loop = true;
        this.btnInnerAudioContext = wx.createInnerAudioContext();
        this.btnInnerAudioContext.src = this.STATIC_URL + 'btn.mp3';
        this.correctInnerAudioContext = wx.createInnerAudioContext();
        this.correctInnerAudioContext.src = this.STATIC_URL + 'correct.mp3';
        this.failedInnerAudioContext = wx.createInnerAudioContext();
        this.failedInnerAudioContext.src = this.STATIC_URL + 'failed.mp3';
        this.dialogInnerAudioContext = wx.createInnerAudioContext();
        this.dialogInnerAudioContext.src = this.STATIC_URL + 'dialog.mp3';
        this.lotteryInnerAudioContext = wx.createInnerAudioContext();
        this.lotteryInnerAudioContext.src = this.STATIC_URL + 'lottery.mp3';
        this.ruleInnerAudioContext = wx.createInnerAudioContext();
        this.ruleInnerAudioContext.src = this.STATIC_URL + 'rule.mp3';
        this.startInnerAudioContext = wx.createInnerAudioContext();
        this.startInnerAudioContext.src = this.STATIC_URL + 'start.mp3';
    },
    sound: function (name) {
        var x = this;
        var ctx = x[name + "InnerAudioContext"];
        if (ctx !== null) {
            ctx.play();
        }
    },
    bgmInnerAudioContext: null,
    btnInnerAudioContext: null,
    correctInnerAudioContext: null,
    failedInnerAudioContext: null,
    dialogInnerAudioContext: null,
    startInnerAudioContext: null,
    ruleInnerAudioContext: null,
    lotteryInnerAudioContext: null,
    handleRequstFinish: function (callback) {
        var _this = this;
        return function (res) {
            if (res.statusCode != 200) {
                _this.handleRequestFail(res.data.message);
            }
            else {
                callback(res);
            }
        };
    },
    handleRequestFail: function (res) {
        console.log(res);
        wx.showModal({
            title: '错误',
            content: String(res),
            showCancel: false,
            complete: function () {
                wx.redirectTo({
                    url: "/pages/index/index"
                });
            }
        });
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFFQSxHQUFHLENBQWE7SUFDZCxZQUFZLEVBQUUsd0RBQXdEO0lBQ3RFLFVBQVUsRUFBRSw0REFBNEQ7SUFDeEUsVUFBVSxFQUFFO1FBQ1YsS0FBSyxFQUFFLEVBQUU7S0FFVjtJQUNELFFBQVE7UUFDTixJQUFJLENBQUMsb0JBQW9CLEdBQUcsRUFBRSxDQUFDLHVCQUF1QixFQUFFLENBQUM7UUFDekQsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUM1RCxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUV0QyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsRUFBRSxDQUFDLHVCQUF1QixFQUFFLENBQUM7UUFDekQsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUU1RCxJQUFJLENBQUMsd0JBQXdCLEdBQUcsRUFBRSxDQUFDLHVCQUF1QixFQUFFLENBQUM7UUFDN0QsSUFBSSxDQUFDLHdCQUF3QixDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLGFBQWEsQ0FBQztRQUVwRSxJQUFJLENBQUMsdUJBQXVCLEdBQUcsRUFBRSxDQUFDLHVCQUF1QixFQUFFLENBQUM7UUFDNUQsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLFlBQVksQ0FBQztRQUVsRSxJQUFJLENBQUMsdUJBQXVCLEdBQUcsRUFBRSxDQUFDLHVCQUF1QixFQUFFLENBQUM7UUFDNUQsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLFlBQVksQ0FBQztRQUVsRSxJQUFJLENBQUMsd0JBQXdCLEdBQUcsRUFBRSxDQUFDLHVCQUF1QixFQUFFLENBQUM7UUFDN0QsSUFBSSxDQUFDLHdCQUF3QixDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLGFBQWEsQ0FBQztRQUVwRSxJQUFJLENBQUMscUJBQXFCLEdBQUcsRUFBRSxDQUFDLHVCQUF1QixFQUFFLENBQUM7UUFDMUQsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUU5RCxJQUFJLENBQUMsc0JBQXNCLEdBQUcsRUFBRSxDQUFDLHVCQUF1QixFQUFFLENBQUM7UUFDM0QsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLFdBQVcsQ0FBQztJQUNsRSxDQUFDO0lBQ0QsS0FBSyxZQUFDLElBQVk7UUFDaEIsSUFBTSxDQUFDLEdBQVEsSUFBSSxDQUFDO1FBQ3BCLElBQU0sR0FBRyxHQUFPLENBQUMsQ0FBSSxJQUFJLHNCQUFtQixDQUFDLENBQUM7UUFDOUMsSUFBSSxHQUFHLEtBQUssSUFBSSxFQUFFO1lBQ2hCLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNaO0lBQ0gsQ0FBQztJQUNELG9CQUFvQixFQUFFLElBQUk7SUFDMUIsb0JBQW9CLEVBQUUsSUFBSTtJQUMxQix3QkFBd0IsRUFBRSxJQUFJO0lBQzlCLHVCQUF1QixFQUFFLElBQUk7SUFDN0IsdUJBQXVCLEVBQUUsSUFBSTtJQUM3QixzQkFBc0IsRUFBRSxJQUFJO0lBQzVCLHFCQUFxQixFQUFFLElBQUk7SUFDM0Isd0JBQXdCLEVBQUUsSUFBSTtJQUM5QixrQkFBa0IsWUFBQyxRQUF1RTtRQUExRixpQkFRQztRQVBDLE9BQU8sVUFBQyxHQUFtRDtZQUN6RCxJQUFJLEdBQUcsQ0FBQyxVQUFVLElBQUksR0FBRyxFQUFFO2dCQUN6QixLQUFJLENBQUMsaUJBQWlCLENBQUUsR0FBRyxDQUFDLElBQVksQ0FBQyxPQUFRLENBQUMsQ0FBQzthQUNwRDtpQkFBTTtnQkFDTCxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDZjtRQUNILENBQUMsQ0FBQTtJQUNILENBQUM7SUFDRCxpQkFBaUIsWUFBQyxHQUE0QztRQUM1RCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLEVBQUUsQ0FBQyxTQUFTLENBQUM7WUFDWCxLQUFLLEVBQUUsSUFBSTtZQUNYLE9BQU8sRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDO1lBQ3BCLFVBQVUsRUFBRSxLQUFLO1lBQ2pCLFFBQVEsRUFBRTtnQkFDUixFQUFFLENBQUMsVUFBVSxDQUFDO29CQUNaLEdBQUcsRUFBRSxvQkFBb0I7aUJBQzFCLENBQUMsQ0FBQztZQUNMLENBQUM7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDO0NBQ0YsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwLnRzXG5cbkFwcDxJQXBwT3B0aW9uPih7XG4gIEFQSV9FTkRQT0lOVDogJ2h0dHBzOi8vZW5kcG9pbnQuMjAxOWZlc3RpdmFsLnZhcmlhbnRmLnpnY3N6a3cuY29tL2FwaScsXG4gIFNUQVRJQ19VUkw6ICdodHRwczovL2VuZHBvaW50LjIwMTlmZXN0aXZhbC52YXJpYW50Zi56Z2Nzemt3LmNvbS9zdGF0aWMvJyxcbiAgZ2xvYmFsRGF0YToge1xuICAgIHRva2VuOiAnJ1xuXG4gIH0sXG4gIG9uTGF1bmNoKCkge1xuICAgIHRoaXMuYmdtSW5uZXJBdWRpb0NvbnRleHQgPSB3eC5jcmVhdGVJbm5lckF1ZGlvQ29udGV4dCgpO1xuICAgIHRoaXMuYmdtSW5uZXJBdWRpb0NvbnRleHQuc3JjID0gdGhpcy5TVEFUSUNfVVJMICsgJ2JnbS5tcDMnO1xuICAgIHRoaXMuYmdtSW5uZXJBdWRpb0NvbnRleHQubG9vcCA9IHRydWU7XG5cbiAgICB0aGlzLmJ0bklubmVyQXVkaW9Db250ZXh0ID0gd3guY3JlYXRlSW5uZXJBdWRpb0NvbnRleHQoKTtcbiAgICB0aGlzLmJ0bklubmVyQXVkaW9Db250ZXh0LnNyYyA9IHRoaXMuU1RBVElDX1VSTCArICdidG4ubXAzJztcblxuICAgIHRoaXMuY29ycmVjdElubmVyQXVkaW9Db250ZXh0ID0gd3guY3JlYXRlSW5uZXJBdWRpb0NvbnRleHQoKTtcbiAgICB0aGlzLmNvcnJlY3RJbm5lckF1ZGlvQ29udGV4dC5zcmMgPSB0aGlzLlNUQVRJQ19VUkwgKyAnY29ycmVjdC5tcDMnO1xuXG4gICAgdGhpcy5mYWlsZWRJbm5lckF1ZGlvQ29udGV4dCA9IHd4LmNyZWF0ZUlubmVyQXVkaW9Db250ZXh0KCk7XG4gICAgdGhpcy5mYWlsZWRJbm5lckF1ZGlvQ29udGV4dC5zcmMgPSB0aGlzLlNUQVRJQ19VUkwgKyAnZmFpbGVkLm1wMyc7XG5cbiAgICB0aGlzLmRpYWxvZ0lubmVyQXVkaW9Db250ZXh0ID0gd3guY3JlYXRlSW5uZXJBdWRpb0NvbnRleHQoKTtcbiAgICB0aGlzLmRpYWxvZ0lubmVyQXVkaW9Db250ZXh0LnNyYyA9IHRoaXMuU1RBVElDX1VSTCArICdkaWFsb2cubXAzJztcblxuICAgIHRoaXMubG90dGVyeUlubmVyQXVkaW9Db250ZXh0ID0gd3guY3JlYXRlSW5uZXJBdWRpb0NvbnRleHQoKTtcbiAgICB0aGlzLmxvdHRlcnlJbm5lckF1ZGlvQ29udGV4dC5zcmMgPSB0aGlzLlNUQVRJQ19VUkwgKyAnbG90dGVyeS5tcDMnO1xuXG4gICAgdGhpcy5ydWxlSW5uZXJBdWRpb0NvbnRleHQgPSB3eC5jcmVhdGVJbm5lckF1ZGlvQ29udGV4dCgpO1xuICAgIHRoaXMucnVsZUlubmVyQXVkaW9Db250ZXh0LnNyYyA9IHRoaXMuU1RBVElDX1VSTCArICdydWxlLm1wMyc7XG5cbiAgICB0aGlzLnN0YXJ0SW5uZXJBdWRpb0NvbnRleHQgPSB3eC5jcmVhdGVJbm5lckF1ZGlvQ29udGV4dCgpO1xuICAgIHRoaXMuc3RhcnRJbm5lckF1ZGlvQ29udGV4dC5zcmMgPSB0aGlzLlNUQVRJQ19VUkwgKyAnc3RhcnQubXAzJztcbiAgfSxcbiAgc291bmQobmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3QgeDogYW55ID0gdGhpcztcbiAgICBjb25zdCBjdHg6IGFueSA9eFtgJHtuYW1lfUlubmVyQXVkaW9Db250ZXh0YF07XG4gICAgaWYgKGN0eCAhPT0gbnVsbCkge1xuICAgICAgY3R4LnBsYXkoKTtcbiAgICB9XG4gIH0sXG4gIGJnbUlubmVyQXVkaW9Db250ZXh0OiBudWxsLFxuICBidG5Jbm5lckF1ZGlvQ29udGV4dDogbnVsbCxcbiAgY29ycmVjdElubmVyQXVkaW9Db250ZXh0OiBudWxsLFxuICBmYWlsZWRJbm5lckF1ZGlvQ29udGV4dDogbnVsbCxcbiAgZGlhbG9nSW5uZXJBdWRpb0NvbnRleHQ6IG51bGwsXG4gIHN0YXJ0SW5uZXJBdWRpb0NvbnRleHQ6IG51bGwsXG4gIHJ1bGVJbm5lckF1ZGlvQ29udGV4dDogbnVsbCxcbiAgbG90dGVyeUlubmVyQXVkaW9Db250ZXh0OiBudWxsLFxuICBoYW5kbGVSZXF1c3RGaW5pc2goY2FsbGJhY2s6IChyZXM6IFdlY2hhdE1pbmlwcm9ncmFtLlJlcXVlc3RTdWNjZXNzQ2FsbGJhY2tSZXN1bHQpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gKHJlczogV2VjaGF0TWluaXByb2dyYW0uUmVxdWVzdFN1Y2Nlc3NDYWxsYmFja1Jlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlcy5zdGF0dXNDb2RlICE9IDIwMCkge1xuICAgICAgICB0aGlzLmhhbmRsZVJlcXVlc3RGYWlsKChyZXMuZGF0YSBhcyBhbnkpLm1lc3NhZ2UhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKHJlcyk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBoYW5kbGVSZXF1ZXN0RmFpbChyZXM6IFdlY2hhdE1pbmlwcm9ncmFtLkdlbmVyYWxDYWxsYmFja1Jlc3VsdCkge1xuICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgd3guc2hvd01vZGFsKHtcbiAgICAgIHRpdGxlOiAn6ZSZ6K+vJyxcbiAgICAgIGNvbnRlbnQ6IFN0cmluZyhyZXMpLFxuICAgICAgc2hvd0NhbmNlbDogZmFsc2UsXG4gICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICB3eC5yZWRpcmVjdFRvKHtcbiAgICAgICAgICB1cmw6IFwiL3BhZ2VzL2luZGV4L2luZGV4XCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG59KSJdfQ==