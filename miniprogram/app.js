"use strict";
App({
    API_ENDPOINT: 'https://endpoint.2019festival.variantf.zgcszkw.com/api',
    STATIC_URL: 'https://endpoint.2019festival.variantf.zgcszkw.com/static/',
    globalData: {
        token: ''
    },
    onLaunch: function () {
        this.bgmInnerAudioContext = wx.createInnerAudioContext();
        this.bgmInnerAudioContext.src = this.STATIC_URL + 'bgm.mp3';
        this.bgmInnerAudioContext.loop = true;
        this.bgmInnerAudioContext.autoplay = true;
        this._bgmPaused = false;
        var self = this;
        this.bgmInnerAudioContext.onPlay = function () {
            self._bgmPaused = false;
        };
        this.bgmInnerAudioContext.onPause = function () {
            self._bgmPaused = true;
        };
        this.btnInnerAudioContext = wx.createInnerAudioContext();
        this.btnInnerAudioContext.src = this.STATIC_URL + 'btn.mp3';
        this.correctInnerAudioContext = wx.createInnerAudioContext();
        this.correctInnerAudioContext.src = this.STATIC_URL + 'correct.mp3';
        this.failedInnerAudioContext = wx.createInnerAudioContext();
        this.failedInnerAudioContext.src = this.STATIC_URL + 'failed.mp3';
        this.dialogInnerAudioContext = wx.createInnerAudioContext();
        this.dialogInnerAudioContext.src = this.STATIC_URL + 'dialog.mp3';
        this.lotteryInnerAudioContext = wx.createInnerAudioContext();
        this.lotteryInnerAudioContext.src = this.STATIC_URL + 'lottery.mp3';
        this.ruleInnerAudioContext = wx.createInnerAudioContext();
        this.ruleInnerAudioContext.src = this.STATIC_URL + 'rule.mp3';
        this.startInnerAudioContext = wx.createInnerAudioContext();
        this.startInnerAudioContext.src = this.STATIC_URL + 'start.mp3';
    },
    onShow: function () {
        var bgmInnerAudioContext = this.bgmInnerAudioContext;
        if (bgmInnerAudioContext === null) {
            return;
        }
        if (this._bgmPaused) {
            bgmInnerAudioContext.pause();
        }
        else {
            bgmInnerAudioContext.play();
        }
    },
    toggleBGM: function () {
        var bgmInnerAudioContext = this.bgmInnerAudioContext;
        if (bgmInnerAudioContext === null) {
            return;
        }
        if (this._bgmPaused) {
            bgmInnerAudioContext.play();
            this._bgmPaused = false;
        }
        else {
            bgmInnerAudioContext.pause();
            this._bgmPaused = true;
        }
    },
    bgmPaused: function () {
        return this._bgmPaused;
    },
    sound: function (name) {
        var x = this;
        var ctx = x[name + "InnerAudioContext"];
        if (ctx !== null) {
            ctx.play();
        }
    },
    _bgmPaused: false,
    bgmInnerAudioContext: null,
    btnInnerAudioContext: null,
    correctInnerAudioContext: null,
    failedInnerAudioContext: null,
    dialogInnerAudioContext: null,
    startInnerAudioContext: null,
    ruleInnerAudioContext: null,
    lotteryInnerAudioContext: null,
    handleRequstFinish: function (callback) {
        var _this = this;
        return function (res) {
            if (res.statusCode != 200) {
                _this.handleRequestFail(res.data.message);
            }
            else {
                callback(res);
            }
        };
    },
    handleRequestFail: function (res) {
        console.log(res);
        wx.showModal({
            title: '错误',
            content: String(res),
            showCancel: false,
            complete: function () {
                wx.redirectTo({
                    url: "/pages/index/index"
                });
            }
        });
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFFQSxHQUFHLENBQWE7SUFDZCxZQUFZLEVBQUUsd0RBQXdEO0lBQ3RFLFVBQVUsRUFBRSw0REFBNEQ7SUFDeEUsVUFBVSxFQUFFO1FBQ1YsS0FBSyxFQUFFLEVBQUU7S0FFVjtJQUNELFFBQVE7UUFDTixJQUFJLENBQUMsb0JBQW9CLEdBQUcsRUFBRSxDQUFDLHVCQUF1QixFQUFFLENBQUM7UUFDekQsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUM1RCxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUN0QyxJQUFJLENBQUMsb0JBQW9CLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUMxQyxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztRQUN4QixJQUFNLElBQUksR0FBRyxJQUFJLENBQUM7UUFDbEIsSUFBSSxDQUFDLG9CQUFvQixDQUFDLE1BQU0sR0FBRztZQUNqQyxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztRQUMxQixDQUFDLENBQUE7UUFDRCxJQUFJLENBQUMsb0JBQW9CLENBQUMsT0FBTyxHQUFHO1lBQ2xDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLENBQUMsQ0FBQTtRQUVELElBQUksQ0FBQyxvQkFBb0IsR0FBRyxFQUFFLENBQUMsdUJBQXVCLEVBQUUsQ0FBQztRQUN6RCxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO1FBRTVELElBQUksQ0FBQyx3QkFBd0IsR0FBRyxFQUFFLENBQUMsdUJBQXVCLEVBQUUsQ0FBQztRQUM3RCxJQUFJLENBQUMsd0JBQXdCLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLEdBQUcs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QyxHQUE0QztRQUM1RCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLEVBQUUsQ0FBQyxTQUFTLENBQUM7WUFDWCxLQUFLLEVBQUUsSUFBSTtZQUNYLE9BQU8sRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDO1lBQ3BCLFVBQVUsRUFBRSxLQUFLO1lBQ2pCLFFBQVEsRUFBRTtnQkFDUixFQUFFLENBQUMsVUFBVSxDQUFDO29CQUNaLEdBQUcsRUFBRSxvQkFBb0I7aUJBQzFCLENBQUMsQ0FBQztZQUNMLENBQUM7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDO0NBQ0YsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwLnRzXG5cbkFwcDxJQXBwT3B0aW9uPih7XG4gIEFQSV9FTkRQT0lOVDogJ2h0dHBzOi8vZW5kcG9pbnQuMjAxOWZlc3RpdmFsLnZhcmlhbnRmLnpnY3N6a3cuY29tL2FwaScsXG4gIFNUQVRJQ19VUkw6ICdodHRwczovL2VuZHBvaW50LjIwMTlmZXN0aXZhbC52YXJpYW50Zi56Z2Nzemt3LmNvbS9zdGF0aWMvJyxcbiAgZ2xvYmFsRGF0YToge1xuICAgIHRva2VuOiAnJ1xuXG4gIH0sXG4gIG9uTGF1bmNoKCkge1xuICAgIHRoaXMuYmdtSW5uZXJBdWRpb0NvbnRleHQgPSB3eC5jcmVhdGVJbm5lckF1ZGlvQ29udGV4dCgpO1xuICAgIHRoaXMuYmdtSW5uZXJBdWRpb0NvbnRleHQuc3JjID0gdGhpcy5TVEFUSUNfVVJMICsgJ2JnbS5tcDMnO1xuICAgIHRoaXMuYmdtSW5uZXJBdWRpb0NvbnRleHQubG9vcCA9IHRydWU7XG4gICAgdGhpcy5iZ21Jbm5lckF1ZGlvQ29udGV4dC5hdXRvcGxheSA9IHRydWU7XG4gICAgdGhpcy5fYmdtUGF1c2VkID0gZmFsc2U7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5iZ21Jbm5lckF1ZGlvQ29udGV4dC5vblBsYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuX2JnbVBhdXNlZCA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmJnbUlubmVyQXVkaW9Db250ZXh0Lm9uUGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuX2JnbVBhdXNlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5idG5Jbm5lckF1ZGlvQ29udGV4dCA9IHd4LmNyZWF0ZUlubmVyQXVkaW9Db250ZXh0KCk7XG4gICAgdGhpcy5idG5Jbm5lckF1ZGlvQ29udGV4dC5zcmMgPSB0aGlzLlNUQVRJQ19VUkwgKyAnYnRuLm1wMyc7XG5cbiAgICB0aGlzLmNvcnJlY3RJbm5lckF1ZGlvQ29udGV4dCA9IHd4LmNyZWF0ZUlubmVyQXVkaW9Db250ZXh0KCk7XG4gICAgdGhpcy5jb3JyZWN0SW5uZXJBdWRpb0NvbnRleHQuc3JjID0gdGhpcy5TVEFUSUNfVVJMICsgJ2NvcnJlY3QubXAzJztcblxuICAgIHRoaXMuZmFpbGVkSW5uZXJBdWRpb0NvbnRleHQgPSB3eC5jcmVhdGVJbm5lckF1ZGlvQ29udGV4dCgpO1xuICAgIHRoaXMuZmFpbGVkSW5uZXJBdWRpb0NvbnRleHQuc3JjID0gdGhpcy5TVEFUSUNfVVJMICsgJ2ZhaWxlZC5tcDMnO1xuXG4gICAgdGhpcy5kaWFsb2dJbm5lckF1ZGlvQ29udGV4dCA9IHd4LmNyZWF0ZUlubmVyQXVkaW9Db250ZXh0KCk7XG4gICAgdGhpcy5kaWFsb2dJbm5lckF1ZGlvQ29udGV4dC5zcmMgPSB0aGlzLlNUQVRJQ19VUkwgKyAnZGlhbG9nLm1wMyc7XG5cbiAgICB0aGlzLmxvdHRlcnlJbm5lckF1ZGlvQ29udGV4dCA9IHd4LmNyZWF0ZUlubmVyQXVkaW9Db250ZXh0KCk7XG4gICAgdGhpcy5sb3R0ZXJ5SW5uZXJBdWRpb0NvbnRleHQuc3JjID0gdGhpcy5TVEFUSUNfVVJMICsgJ2xvdHRlcnkubXAzJztcblxuICAgIHRoaXMucnVsZUlubmVyQXVkaW9Db250ZXh0ID0gd3guY3JlYXRlSW5uZXJBdWRpb0NvbnRleHQoKTtcbiAgICB0aGlzLnJ1bGVJbm5lckF1ZGlvQ29udGV4dC5zcmMgPSB0aGlzLlNUQVRJQ19VUkwgKyAncnVsZS5tcDMnO1xuXG4gICAgdGhpcy5zdGFydElubmVyQXVkaW9Db250ZXh0ID0gd3guY3JlYXRlSW5uZXJBdWRpb0NvbnRleHQoKTtcbiAgICB0aGlzLnN0YXJ0SW5uZXJBdWRpb0NvbnRleHQuc3JjID0gdGhpcy5TVEFUSUNfVVJMICsgJ3N0YXJ0Lm1wMyc7XG4gIH0sXG4gIG9uU2hvdyAoKSB7XG4gICAgY29uc3QgeyBiZ21Jbm5lckF1ZGlvQ29udGV4dCB9ID0gdGhpcztcbiAgICBpZiAoYmdtSW5uZXJBdWRpb0NvbnRleHQgPT09IG51bGwpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodGhpcy5fYmdtUGF1c2VkKSB7XG4gICAgICBiZ21Jbm5lckF1ZGlvQ29udGV4dC5wYXVzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBiZ21Jbm5lckF1ZGlvQ29udGV4dC5wbGF5KCk7XG4gICAgfVxuICB9LFxuICB0b2dnbGVCR00oKSB7XG4gICAgY29uc3Qge2JnbUlubmVyQXVkaW9Db250ZXh0fSA9IHRoaXM7XG4gICAgaWYgKGJnbUlubmVyQXVkaW9Db250ZXh0ID09PSBudWxsKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMuX2JnbVBhdXNlZCkge1xuICAgICAgYmdtSW5uZXJBdWRpb0NvbnRleHQucGxheSgpO1xuICAgICAgdGhpcy5fYmdtUGF1c2VkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJnbUlubmVyQXVkaW9Db250ZXh0LnBhdXNlKCk7XG4gICAgICB0aGlzLl9iZ21QYXVzZWQgPSB0cnVlO1xuICAgIH1cbiAgfSxcbiAgYmdtUGF1c2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9iZ21QYXVzZWQ7XG4gIH0sXG4gIHNvdW5kKG5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IHg6IGFueSA9IHRoaXM7XG4gICAgY29uc3QgY3R4OiBhbnkgPXhbYCR7bmFtZX1Jbm5lckF1ZGlvQ29udGV4dGBdO1xuICAgIGlmIChjdHggIT09IG51bGwpIHtcbiAgICAgIGN0eC5wbGF5KCk7XG4gICAgfVxuICB9LFxuICBfYmdtUGF1c2VkOiBmYWxzZSxcbiAgYmdtSW5uZXJBdWRpb0NvbnRleHQ6IG51bGwsXG4gIGJ0bklubmVyQXVkaW9Db250ZXh0OiBudWxsLFxuICBjb3JyZWN0SW5uZXJBdWRpb0NvbnRleHQ6IG51bGwsXG4gIGZhaWxlZElubmVyQXVkaW9Db250ZXh0OiBudWxsLFxuICBkaWFsb2dJbm5lckF1ZGlvQ29udGV4dDogbnVsbCxcbiAgc3RhcnRJbm5lckF1ZGlvQ29udGV4dDogbnVsbCxcbiAgcnVsZUlubmVyQXVkaW9Db250ZXh0OiBudWxsLFxuICBsb3R0ZXJ5SW5uZXJBdWRpb0NvbnRleHQ6IG51bGwsXG4gIGhhbmRsZVJlcXVzdEZpbmlzaChjYWxsYmFjazogKHJlczogV2VjaGF0TWluaXByb2dyYW0uUmVxdWVzdFN1Y2Nlc3NDYWxsYmFja1Jlc3VsdCkgPT4gdm9pZCkge1xuICAgIHJldHVybiAocmVzOiBXZWNoYXRNaW5pcHJvZ3JhbS5SZXF1ZXN0U3VjY2Vzc0NhbGxiYWNrUmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzLnN0YXR1c0NvZGUgIT0gMjAwKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlUmVxdWVzdEZhaWwoKHJlcy5kYXRhIGFzIGFueSkubWVzc2FnZSEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2socmVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGhhbmRsZVJlcXVlc3RGYWlsKHJlczogV2VjaGF0TWluaXByb2dyYW0uR2VuZXJhbENhbGxiYWNrUmVzdWx0KSB7XG4gICAgY29uc29sZS5sb2cocmVzKTtcbiAgICB3eC5zaG93TW9kYWwoe1xuICAgICAgdGl0bGU6ICfplJnor68nLFxuICAgICAgY29udGVudDogU3RyaW5nKHJlcyksXG4gICAgICBzaG93Q2FuY2VsOiBmYWxzZSxcbiAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIHd4LnJlZGlyZWN0VG8oe1xuICAgICAgICAgIHVybDogXCIvcGFnZXMvaW5kZXgvaW5kZXhcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbn0pIl19